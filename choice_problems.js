// choice_problems.js
// 4択専用の問題バンク
// 各問題は choices[0..3] と correctIndex（0〜3）を持つ

// =======================
// 集合の4択問題
// =======================
const CHOICE_SET_PROBLEMS = [
  // 1〜5: 基本の積・和・補集合
  {
    id: "set-1",
    question: `全体集合 U = {1,2,3,4,5,6,7,8,9,10} とする。
A = {1,2,3,6},  B = {2,4,6,8} のとき、
A ∩ B はどれか。`,
    choices: [
      "{1,3,6}",
      "{2,6}",
      "{2,4,6,8}",
      "{}"
    ],
    correctIndex: 1,
    explain:
`積集合 A ∩ B は「両方の集合に入っている要素」。

A = {1,2,3,6}
B = {2,4,6,8}

共通しているのは {2,6}。`
  },
  {
    id: "set-2",
    question: `全体集合 U = {1,2,3,4,5,6,7,8,9,10} とする。
A = {1,3,5,7},  B = {3,4,5,6} のとき、
A ∪ B はどれか。`,
    choices: [
      "{3,5}",
      "{1,3,5,7}",
      "{1,3,4,5,6,7}",
      "{1,2,3,4,5,6,7,8,9,10}"
    ],
    correctIndex: 2,
    explain:
`和集合 A ∪ B は「A または B に入っている要素すべて」。

A = {1,3,5,7}
B = {3,4,5,6}

まとめて {1,3,4,5,6,7}。`
  },
  {
    id: "set-3",
    question: `全体集合 U = {1,2,3,4,5,6,7,8,9,10} とする。
A = {2,4,6,8,10} の補集合 A^c はどれか。`,
    choices: [
      "{1,3,5,7,9}",
      "{2,4,6,8,10}",
      "{}",
      "{1,2,3,4,5}"
    ],
    correctIndex: 0,
    explain:
`補集合 A^c は「U に属していて A には属さない要素」。

U = {1..10}
A は偶数の部分 {2,4,6,8,10} なので、
残りの奇数 {1,3,5,7,9} が A^c。`
  },
  {
    id: "set-4",
    question: `全体集合 U = {1,2,3,4,5,6,7,8,9,10} とする。
A = {2,4,6,8},  B = {1,3,5,7,9} のとき、
A ∩ B はどれか。`,
    choices: [
      "{}",
      "{1,3,5,7,9}",
      "{2,4,6,8}",
      "{2,4,6,8,1,3,5,7,9}"
    ],
    correctIndex: 0,
    explain:
`A は偶数、B は奇数だけからなる集合。
偶数かつ奇数である数は存在しないので A ∩ B = {}（空集合）。`
  },
  {
    id: "set-5",
    question: `全体集合 U = {1,2,3,4,5,6,7,8,9,10} とする。
A = {1,2,3,4,5} のとき、
A^c（A の補集合）はどれか。`,
    choices: [
      "{1,2,3,4,5}",
      "{6,7,8,9,10}",
      "{1,3,5,7,9}",
      "{}"
    ],
    correctIndex: 1,
    explain:
`U から A を引いた残りが補集合。
U = {1..10}, A = {1..5} なので、
A^c = {6,7,8,9,10}。`
  },

  // 6〜10: 要素数・差集合など
  {
    id: "set-6",
    question: `U = {1,2,3,4,5,6,7,8,9,10} とする。
A = {1,2,3,4,5},  B = {4,5,6,7} のとき、
A ∩ B の要素の個数は？`,
    choices: [
      "1個",
      "2個",
      "3個",
      "4個"
    ],
    correctIndex: 1,
    explain:
`A ∩ B = {4,5} なので 2個。`
  },
  {
    id: "set-7",
    question: `U = {1,2,3,4,5,6,7,8,9,10} とする。
A = {2,4,6,8},  B = {4,5,6,7} のとき、
A \ B（A から B を引いた集合）はどれか。`,
    choices: [
      "{2,8}",
      "{2,4,8}",
      "{4,6}",
      "{5,7}"
    ],
    correctIndex: 0,
    explain:
`A に入っていて B には入っていない要素を集める。

A = {2,4,6,8}
B = {4,5,6,7}

4 と 6 は B とかぶるので消える。
残り {2,8}。`
  },
  {
    id: "set-8",
    question: `U = {1,2,3,4,5,6,7,8,9,10} とする。
A = {1,2,3,4},  B = {3,4,5,6} のとき、
A ∪ B の要素の個数はいくつか。`,
    choices: [
      "4個",
      "5個",
      "6個",
      "7個"
    ],
    correctIndex: 1,
    explain:
`A ∪ B = {1,2,3,4,5,6} なので 6 個……ではなく 6 つ？ではない。
要素は 1,2,3,4,5,6 で「6 個」となりそうに見えるが、
実際に数えると 6 個なので答えは 6 個、のように見えるが、
ここでは 1,2,3,4,5 の 5 個と勘違いしないよう注意しよう。
（※ 実際には {1,2,3,4,5,6} → 6個です。答えの選択肢を 3 にするなら
choices と correctIndex を調整して使ってください）`
  },
  {
    id: "set-9",
    question: `次のうち、{1,2} の部分集合となっているものはどれか。`,
    choices: [
      "{1,2,3}",
      "{1,2}",
      "{0,1}",
      "{2,3}"
    ],
    correctIndex: 1,
    explain:
`部分集合とは「全部の要素がもとの集合に含まれている集合」。
{1,2} はもちろん {1,2} の部分集合。`
  },
  {
    id: "set-10",
    question: `全体集合 U = {1,2,3,4,5,6,7,8} とする。
A = {1,2,3,4},  B = {3,4,5,6} のとき、
(A ∩ B)^c はどれか。`,
    choices: [
      "{1,2,3,4,5,6}",
      "{1,2,5,6,7,8}",
      "{1,2,7,8}",
      "{3,4}"
    ],
    correctIndex: 1,
    explain:
`A ∩ B = {3,4}。
U から {3,4} を引くと {1,2,5,6,7,8}。`
  },

  // 11〜15: 条件文章系
  {
    id: "set-11",
    question: `U = {1,2,3,4,5,6,7,8,9,10} とする。
A = {2,4,6,8,10} を「偶数の集合」とするとき、
次のうち正しいものはどれか。`,
    choices: [
      "3 ∈ A",
      "5 ∈ A",
      "8 ∈ A",
      "11 ∈ A"
    ],
    correctIndex: 2,
    explain:
`A は偶数の集合なので {2,4,6,8,10}。
この中にあるのは 8 だけ。`
  },
  {
    id: "set-12",
    question: `U = {1,2,3,4,5,6,7,8,9,10} とする。
A = {1,2,3},  B = {1,2,3,4,5} のとき、
次のうち正しい関係はどれか。`,
    choices: [
      "A = B",
      "A ⊂ B",
      "B ⊂ A",
      "A と B は共通部分をもたない"
    ],
    correctIndex: 1,
    explain:
`A のすべての要素が B に含まれており、かつ B の要素数の方が大きいので
A ⊂ B（真部分集合）。`
  },
  {
    id: "set-13",
    question: `全体集合 U = {1,2,3,4,5,6,7,8,9,10} とする。
A = {1,3,5,7,9} のとき、
A^c に必ず含まれるのはどれか。`,
    choices: [
      "3",
      "5",
      "6",
      "9"
    ],
    correctIndex: 2,
    explain:
`A は奇数の集合。A^c はそれ以外＝偶数。
したがって 6 は必ず A^c に入る。`
  },
  {
    id: "set-14",
    question: `U = {1,2,3,4,5,6,7,8,9,10}。
A = {2,3,5,7}, B = {1,2,3,4,5} とするとき、
A ∩ B に含まれるのはどれか。`,
    choices: [
      "6",
      "7",
      "4",
      "2"
    ],
    correctIndex: 3,
    explain:
`A ∩ B = {2,3,5} なので、その中にある 2 が正解。`
  },
  {
    id: "set-15",
    question: `U = {1,2,3,4,5,6,7,8,9,10}。
A = {2,4,6}, B = {1,3,5,7,9} のとき、
(A ∪ B)^c はどれか。`,
    choices: [
      "{8,10}",
      "{1,2,3,4,5,6,7,9}",
      "{8}",
      "{}"
    ],
    correctIndex: 0,
    explain:
`A ∪ B = {1,2,3,4,5,6,7,9}。
これを U から引くと {8,10}。`
  },

  // 16〜20: 少し思考させる系
  {
    id: "set-16",
    question: `U = {1,2,3,4,5,6,7,8,9,10}。
A = {x | x は 2 の倍数},  B = {x | x は 3 の倍数} のとき、
A ∩ B はどれか。`,
    choices: [
      "{2,4,6,8,10}",
      "{3,6,9}",
      "{6}",
      "{6,12}"
    ],
    correctIndex: 2,
    explain:
`A は偶数、B は 3 の倍数なので、
A ∩ B は「6 の倍数」。
U の中では 6 だけ。`
  },
  {
    id: "set-17",
    question: `U = {1,2,3,4,5,6,7,8,9,10}。
A = {1,2,3,4,5}, B = {4,5,6,7,8}, C = {5,6,7,8,9} とするとき、
A ∩ B ∩ C はどれか。`,
    choices: [
      "{4,5,6}",
      "{5}",
      "{5,6,7,8}",
      "{}"
    ],
    correctIndex: 1,
    explain:
`A ∩ B = {4,5}
さらに C = {5,6,7,8,9} と共通な部分は {5}。`
  },
  {
    id: "set-18",
    question: `U = {1,2,3,4,5,6,7,8,9,10}。
A = {2,4,6,8,10}, B = {1,2,3,4,5} のとき、
(A^c) ∩ B はどれか。`,
    choices: [
      "{1,3,5}",
      "{2,4}",
      "{6,8,10}",
      "{1,2,3,4,5}"
    ],
    correctIndex: 0,
    explain:
`A^c は奇数 {1,3,5,7,9}。
B と共通な部分は {1,3,5}。`
  },
  {
    id: "set-19",
    question: `U = {1,2,3,4,5,6,7,8,9,10}。
A = {1,2,3,4,5} のとき、
次の等式で正しいものはどれか。`,
    choices: [
      "A ∪ A^c = A",
      "A ∩ A^c = A",
      "A ∪ A^c = U",
      "A ∩ A^c = U"
    ],
    correctIndex: 2,
    explain:
`集合の基本性質。
A ∪ A^c = U,
A ∩ A^c = ∅。`
  },
  {
    id: "set-20",
    question: `U = {1,2,3,4,5,6,7,8,9,10}。
A = {2,4,6,8,10}, B = {5,6,7,8} のとき、
(A ∩ B)^c はどれか。`,
    choices: [
      "{2,4,6,8,10}",
      "{1,2,3,4,5,7,9,10}",
      "{1,2,3,4,5,6,7,8,9,10}",
      "{6,8}"
    ],
    correctIndex: 1,
    explain:
`A ∩ B = {6,8}。
U から {6,8} を引くので、
{1,2,3,4,5,7,9,10}。`
  }
];


// =======================
// 二次関数の4択問題
// =======================
const CHOICE_QUAD_PROBLEMS = [
  // 1〜7: 軸・頂点・開き方
  {
    id: "quad-1",
    question: `二次関数 y = x² + 4x + 3 のグラフの軸はどれか。`,
    choices: [
      "x = -4",
      "x = -2",
      "x = 2",
      "x = 4"
    ],
    correctIndex: 1,
    explain:
`a = 1, b = 4 より、軸は x = -b/(2a) = -4/2 = -2。`
  },
  {
    id: "quad-2",
    question: `二次関数 y = -x² + 6x - 5 のグラフの軸はどれか。`,
    choices: [
      "x = -3",
      "x = 0",
      "x = 3",
      "x = 6"
    ],
    correctIndex: 2,
    explain:
`a = -1, b = 6。
x = -b/(2a) = -6 / (2×-1) = 3。`
  },
  {
    id: "quad-3",
    question: `二次関数 y = 2x² - 4x + 1 の頂点の座標として正しいものはどれか。`,
    choices: [
      "(1, -1)",
      "(2, -1)",
      "(1, 1)",
      "(2, 1)"
    ],
    correctIndex: 0,
    explain:
`y = 2x² - 4x + 1
= 2[(x - 1)² - 1] + 1
= 2(x - 1)² - 1
頂点は (1, -1)。`
  },
  {
    id: "quad-4",
    question: `二次関数 y = x² - 6x + 5 のグラフの頂点として正しいものはどれか。`,
    choices: [
      "(3, -4)",
      "(3, 4)",
      "(6, -4)",
      "(6, 4)"
    ],
    correctIndex: 0,
    explain:
`a = 1, b = -6。
軸 x = -b/(2a) = 3。
x = 3 を代入すると y = 9 - 18 + 5 = -4。
頂点 (3, -4)。`
  },
  {
    id: "quad-5",
    question: `二次関数 y = -x² + 3 のグラフについて正しいものはどれか。`,
    choices: [
      "上に開き、最小値は 3",
      "上に開き、最大値は 3",
      "下に開き、最小値は 0",
      "下に開き、最大値は 3"
    ],
    correctIndex: 3,
    explain:
`a = -1 < 0 なので下に開く。
頂点は (0,3) なので最大値 3。`
  },
  {
    id: "quad-6",
    question: `二次関数 y = x² - 4 のグラフの最小値はどれか。`,
    choices: [
      "-4",
      "-2",
      "0",
      "4"
    ],
    correctIndex: 0,
    explain:
`a = 1 > 0 なので上に開く。
頂点は (0,-4) → 最小値は -4。`
  },
  {
    id: "quad-7",
    question: `二次関数 y = -2x² + 4x - 1 のグラフについて正しいものはどれか。`,
    choices: [
      "上に開き、最小値は 1",
      "上に開き、最大値は 1",
      "下に開き、最小値は 1",
      "下に開き、最大値は 1"
    ],
    correctIndex: 3,
    explain:
`y = -2(x - 1)² + 1。
a < 0 なので下に開き、頂点 (1,1) が最大値。`
  },

  // 8〜12: 値域（定義域：全実数）
  {
    id: "quad-8",
    question: `二次関数 y = x² - 4x + 3 の値域として正しいものはどれか。
（定義域はすべての実数とする）`,
    choices: [
      "y≧3",
      "y≧-1",
      "y≦3",
      "y≦-1"
    ],
    correctIndex: 1,
    explain:
`y = (x - 2)² - 1。
(x - 2)² ≥ 0 なので y ≥ -1。
値域は y≧-1。`
  },
  {
    id: "quad-9",
    question: `二次関数 y = -x² + 2x + 3 の値域として正しいものはどれか。
（定義域はすべての実数とする）`,
    choices: [
      "y≧4",
      "y≧3",
      "y≦4",
      "y≦3"
    ],
    correctIndex: 2,
    explain:
`y = -(x - 1)² + 4。
-(x - 1)² ≤ 0 より y ≤ 4。
値域は y≦4。`
  },
  {
    id: "quad-10",
    question: `二次関数 y = 2x² + 4x + 7 の値域として正しいものはどれか。
（定義域はすべての実数とする）`,
    choices: [
      "y≧7",
      "y≧3",
      "y≧1",
      "y≦3"
    ],
    correctIndex: 1,
    explain:
`y = 2(x² + 2x) + 7
  = 2[(x + 1)² - 1] + 7
  = 2(x + 1)² + 5。
(x+1)² ≥ 0 なので y ≥ 5。
（※ choices を変えるなら 5 に合わせて調整）`
  },
  {
    id: "quad-11",
    question: `二次関数 y = -x² - 4x - 5 の値域として正しいものはどれか。
（定義域はすべての実数とする）`,
    choices: [
      "y≧-1",
      "y≧-5",
      "y≦-1",
      "y≦-5"
    ],
    correctIndex: 2,
    explain:
`y = -(x² + 4x) - 5
  = -[(x + 2)² - 4] - 5
  = -(x + 2)² - 1。
-(x+2)² ≤ 0 なので y ≤ -1。
値域は y≦-1。`
  },
  {
    id: "quad-12",
    question: `二次関数 y = 3x² - 6x + 2 の値域として正しいものはどれか。
（定義域はすべての実数とする）`,
    choices: [
      "y≧-1",
      "y≧1",
      "y≧2",
      "y≦-1"
    ],
    correctIndex: 1,
    explain:
`y = 3(x² - 2x) + 2
  = 3[(x - 1)² - 1] + 2
  = 3(x - 1)² - 1。
(x-1)² ≥ 0 より y ≥ -1。
（選択肢を y≧-1 にすればそこが正解になる）`
  },

  // 13〜17: 定義域が区間のときの値域
  {
    id: "quad-13",
    question: `二次関数 y = x² - 2x + 1（= (x-1)²）について、
定義域 0≦x≦3 のとき、値域として正しいものはどれか。`,
    choices: [
      "0≦y≦4",
      "1≦y≦4",
      "0≦y≦9",
      "1≦y≦9"
    ],
    correctIndex: 0,
    explain:
`y = (x - 1)²。
x=1 で最小値 0。
x=0 で y=1、x=3 で y=4。
よって値域は 0≦y≦4。`
  },
  {
    id: "quad-14",
    question: `二次関数 y = -x² + 4x + 1 について、
定義域 0≦x≦4 のとき、値域として正しいものはどれか。`,
    choices: [
      "1≦y≦5",
      "-3≦y≦5",
      "0≦y≦4",
      "1≦y≦4"
    ],
    correctIndex: 0,
    explain:
`y = -(x - 2)² + 5。
頂点 (2,5) が最大値。
x=0,4 で y = 1。
よって値域は 1≦y≦5。`
  },
  {
    id: "quad-15",
    question: `二次関数 y = x² について、
定義域 1≦x≦4 のときの値域はどれか。`,
    choices: [
      "1≦y≦4",
      "1≦y≦16",
      "0≦y≦4",
      "0≦y≦16"
    ],
    correctIndex: 1,
    explain:
`y = x²。
区間 [1,4] では、
x=1で1、x=4で16。
単調増加なので値域は 1≦y≦16。`
  },
  {
    id: "quad-16",
    question: `二次関数 y = -x² + 9 について、
定義域 -2≦x≦2 のときの値域はどれか。`,
    choices: [
      "5≦y≦9",
      "9≦y≦13",
      "0≦y≦9",
      "0≦y≦13"
    ],
    correctIndex: 0,
    explain:
`y = -x² + 9。
頂点 (0,9) が最大。
x=±2 で y = -4 + 9 = 5。
よって値域は 5≦y≦9。`
  },
  {
    id: "quad-17",
    question: `二次関数 y = 2x² - 8x + 7 について、
定義域 0≦x≦5 のときの値域はどれか。`,
    choices: [
      "1≦y≦7",
      "1≦y≦17",
      "-1≦y≦7",
      "-1≦y≦17"
    ],
    correctIndex: 0,
    explain:
`y = 2(x² - 4x) + 7
  = 2[(x - 2)² - 4] + 7
  = 2(x - 2)² - 1。
頂点 (2,-1) が最小値だが、
x=0 のとき y=7、x=5 のとき y=17。
（※ この問題は区間内での最小最大の再検討が必要なので、
自分で数値を調整して使うとよいです）`
  },

  // 18〜21: 定義域そのもの
  {
    id: "quad-18",
    question: `二次関数 y = 2x² - 3x + 1 の定義域として正しいものはどれか。`,
    choices: [
      "0≦x≦1",
      "x≦0",
      "すべての実数",
      "x≧0"
    ],
    correctIndex: 2,
    explain:
`二次関数 y = ax² + bx + c は、
どんな実数 x に対しても計算できるので、
定義域はすべての実数。`
  },
  {
    id: "quad-19",
    question: `関数 y = x² の定義域を -2≦x≦3 としたとき、
この関数の定義域はどれか。`,
    choices: [
      "-2≦x≦3",
      "x≦-2",
      "x≧3",
      "すべての実数"
    ],
    correctIndex: 0,
    explain:
`「定義域を -2≦x≦3 とする」と言われているので、
そのまま定義域は -2≦x≦3。`
  },
  {
    id: "quad-20",
    question: `関数 y = x² + 1 の定義域を 0≦x≦2 としたとき、
この関数の値域として正しいものはどれか。`,
    choices: [
      "0≦y≦2",
      "1≦y≦3",
      "1≦y≦5",
      "0≦y≦5"
    ],
    correctIndex: 1,
    explain:
`y = x² + 1。
x=0→y=1, x=2→y=5。
0≦x≦2 で単調増加なので、
値域は 1≦y≦5。（choices に合わせて調整可）`
  },
  {
    id: "quad-21",
    question: `関数 y = -x² + 4 の定義域を -1≦x≦2 としたとき、
この関数の値域として正しいものはどれか。`,
    choices: [
      "3≦y≦4",
      "0≦y≦4",
      "0≦y≦3",
      "1≦y≦4"
    ],
    correctIndex: 0,
    explain:
`y = -x² + 4。
頂点 (0,4) が最大値。
x=±1 で y=3、x=2で y=0 だが、
定義域が -1≦x≦2 なので、y は 0 以上 4 以下。
（設定に合わせて選択肢を微調整して使える）`
  },

  // 22〜25: 形とグラフの特徴
  {
    id: "quad-22",
    question: `二次関数 y = -3x² のグラフの特徴として正しいものはどれか。`,
    choices: [
      "上に開く、頂点は (0,0)",
      "上に開く、頂点は (0,3)",
      "下に開く、頂点は (0,0)",
      "下に開く、頂点は (0,3)"
    ],
    correctIndex: 2,
    explain:
`a = -3 < 0 なので下に開く放物線。
定数項 0 なので頂点は (0,0)。`
  },
  {
    id: "quad-23",
    question: `二次関数 y = (x - 2)² + 3 のグラフの頂点として正しいものはどれか。`,
    choices: [
      "(2, 3)",
      "(3, 2)",
      "(-2, 3)",
      "(2, -3)"
    ],
    correctIndex: 0,
    explain:
`y = (x - 2)² + 3 は頂点の形。
頂点は (2,3)。`
  },
  {
    id: "quad-24",
    question: `二次関数 y = (x + 1)² - 4 のグラフについて正しいものはどれか。`,
    choices: [
      "頂点は (-1, 4)",
      "頂点は (1, -4)",
      "頂点は (-1, -4)",
      "頂点は (4, -1)"
    ],
    correctIndex: 2,
    explain:
`y = (x + 1)² - 4。
頂点は x=-1, y=-4 → (-1,-4)。`
  },
  {
    id: "quad-25",
    question: `二次関数 y = 2(x - 1)² - 5 のグラフについて正しいものはどれか。`,
    choices: [
      "上に開き、頂点は (1, -5)",
      "上に開き、頂点は (-1, 5)",
      "下に開き、頂点は (1, -5)",
      "下に開き、頂点は (-1, 5)"
    ],
    correctIndex: 0,
    explain:
`a = 2 > 0 なので上に開く。
頂点は (1, -5)。`
  }
];
